<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    </head>
    <body>
        <div class="container">
            <a class = "btn btn-primary" style = "margin-bottom: 10px; margin-top: 10px; color:azure;" th:href="@{/division/form}">CREATE NEW</a>
            <table class="table">
                <tr>
                    <th>ID</th>
                    <th>NAME</th>
                    <th>REGION NAME</th>
                    <th>ACTION</th>
                </tr>
                <tbody>
                    <!-- foreach (penampung : sumber) -->
                    <!-- sumbernya divisions dari di controller yg addattribute -->
                    <tr th:each = "division:  ${divisions}">
                        <td th:text = "${division.id}"></td>
                        <td th:text = "${division.name}"></td>
                        <td>
                            <form th:action="@{/division/save}" th:method = "post" th:object ="${division}">
                                <select class="form-control" id="regionIndexForm">
                                    <option th:each = "region: ${regions}" th:text= "${region.name}" th:selected ="${division.region.id}"></option>
                                </select>
                            </form>
                            
                        </td>
                        <td>
                            <a class = "btn btn_primary" th:href="@{division/form/{id}(id = ${division.id})}">Edit</a>
                            |
                            <form th:action="@{/division/delete/{id}(id=${division.getId})}" th:method="post" th:object = ${division}>
                                <button type="submit" class="btn btn-danger" onclick= "return confirm('delete this?')">Delete</button>

                            </form>
                            <!-- <a th:action = "@{/region/delete}" th:method = "post" th:object = "${region}">Delete</a> -->
                        </td>

                    </tr>
                </tbody>
            </table>
        </div>   
    </body>
</html>